<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.0"/><meta name="google-site-verification" content="5vTm1MVlmRNKBITz7_BNAkzI9YOP6FO5Qgun-tlMe8o"/><meta name="description" content="개요 프로젝트 이름 TECH.log 기술 구성 프론트엔드  : React 기반의 정적 사이트 생성 프레임워크  : CSS-in-JS…" data-gatsby-head="true"/><meta name="robots" content="index, follow" data-gatsby-head="true"/><meta property="og:title" content="Gatsby로 개인 기술 블로그 개발하기" data-gatsby-head="true"/><meta property="og:description" content="개요 프로젝트 이름 TECH.log 기술 구성 프론트엔드  : React 기반의 정적 사이트 생성 프레임워크  : CSS-in-JS…" data-gatsby-head="true"/><meta property="og:type" content="article" data-gatsby-head="true"/><meta property="og:url" content="https://lsj1206.github.io/post/01" data-gatsby-head="true"/><meta property="og:image" content="/static/2e42bd0f777fb6ac53eb01a7178877f4/a764f/blog_homepage.jpg" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="Gatsby로 개인 기술 블로그 개발하기" data-gatsby-head="true"/><meta name="twitter:description" content="개요 프로젝트 이름 TECH.log 기술 구성 프론트엔드  : React 기반의 정적 사이트 생성 프레임워크  : CSS-in-JS…" data-gatsby-head="true"/><meta name="twitter:image" content="/static/2e42bd0f777fb6ac53eb01a7178877f4/a764f/blog_homepage.jpg" data-gatsby-head="true"/><style data-href="/styles.a26dd897e8c89e92c275.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:D2Coding,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#404859}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.175rem .3rem .1rem;white-space:normal}.token.comment{color:#9f9f9f}.token.cdata,.token.doctype,.token.prolog{color:#636f88}.token.punctuation{color:#81a1c1}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#81a1c1}.token.number{color:#b48ead}.token.boolean{color:#81a1c1}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a3be8c}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#81a1c1}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#88c0d0}.token.keyword{color:#81a1c1}.token.important,.token.regex{color:#ebcb8b}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><style data-styled="" data-styled-version="6.1.13">.hzDDWL{display:flex;flex-direction:column;width:100%;}/*!sc*/
data-styled.g1[id="sc-blHHSb"]{content:"hzDDWL,"}/*!sc*/
.jywoSR{margin-bottom:10px;height:1px;}/*!sc*/
data-styled.g2[id="sc-gtLWhw"]{content:"jywoSR,"}/*!sc*/
.cqDrwc{margin:0;}/*!sc*/
data-styled.g3[id="sc-egkSDF"]{content:"cqDrwc,"}/*!sc*/
.gLPrto{display:flex;justify-content:space-between;margin-bottom:10px;}/*!sc*/
@media (max-width: 768px){.gLPrto{flex-direction:column;justify-content:flex-start;}}/*!sc*/
data-styled.g4[id="sc-fAUdSK"]{content:"gLPrto,"}/*!sc*/
.TOLTN{display:flex;align-items:center;margin-right:0.5rem;font-weight:bolder;text-shadow:0px 1px 3px rgba(0, 0, 0, 0.1);}/*!sc*/
.TOLTN svg{flex-shrink:0;margin:0 0.5rem 0 0;width:1rem;height:1rem;}/*!sc*/
data-styled.g5[id="sc-dntaoT"]{content:"TOLTN,"}/*!sc*/
.kkQDYw{flex:1;text-shadow:0px 1px 3px rgba(0, 0, 0, 0.1);cursor:pointer;}/*!sc*/
.kkQDYw svg{margin:0 0.5rem 0 0;}/*!sc*/
.kkQDYw:hover{transform:scale(1.025);}/*!sc*/
.kkQDYw:active{transform:scale(0.975);}/*!sc*/
data-styled.g6[id="sc-ivxoEo"]{content:"kkQDYw,"}/*!sc*/
.eIdYjn{display:flex;flex-direction:row;flex-wrap:wrap;width:100%;min-height:1.75rem;}/*!sc*/
.eIdYjn svg{flex-shrink:0;margin:0.25rem 0.5rem 0.5rem 0;width:1rem;height:1rem;}/*!sc*/
data-styled.g7[id="sc-ghWlax"]{content:"eIdYjn,"}/*!sc*/
.eNmjUM{display:flex;align-items:center;margin:0 0.5rem 0.5rem 0;padding:0 0.5rem;min-height:1.5rem;font-size:0.9rem;font-weight:bolder;border-radius:0.25rem;box-shadow:1px 1px 3px rgba(0, 0, 0, 0.5);cursor:pointer;}/*!sc*/
.eNmjUM:hover{transform:scale(1.025);}/*!sc*/
.eNmjUM:active{transform:scale(0.975);}/*!sc*/
data-styled.g8[id="sc-kLhKbu"]{content:"eNmjUM,"}/*!sc*/
.ePnSXa{flex-shrink:0;margin:0.75rem 0 0.25rem 0;width:100%;height:15rem;border-radius:0.75rem;overflow:hidden;}/*!sc*/
data-styled.g9[id="sc-ixGGxD"]{content:"ePnSXa,"}/*!sc*/
.iFBhps{width:100%;height:100%;object-fit:cover;}/*!sc*/
data-styled.g10[id="sc-khLCKb"]{content:"iFBhps,"}/*!sc*/
.cVZkwc{z-index:10;display:flex;align-items:center;justify-content:center;padding:5px;width:32px;height:32px;background-color:transparent;border:none;cursor:pointer;}/*!sc*/
.cVZkwc svg{width:100%;height:100%;}/*!sc*/
.cVZkwc svg:active{transform:scale(0.95);}/*!sc*/
data-styled.g11[id="sc-dstKZu"]{content:"cVZkwc,"}/*!sc*/
.grtWFC{z-index:500;padding:0 1rem 1rem 1rem;position:fixed;top:15vh;right:8vw;width:275px;max-height:70vh;opacity:0.95;border-radius:0.75rem;box-shadow:1px 3px 5px rgba(0, 0, 0, 0.25);overflow-x:hidden;overflow-y:auto;}/*!sc*/
@media (max-width: 1440px){.grtWFC{top:50px;right:5px;width:auto;height:auto;padding:0.25rem;padding-top:0.25rem;}}/*!sc*/
.grtWFC::-webkit-scrollbar{width:3px;}/*!sc*/
.grtWFC::-webkit-scrollbar-track{margin-block:0.75rem;}/*!sc*/
data-styled.g12[id="sc-keTIit"]{content:"grtWFC,"}/*!sc*/
.jVRJRQ{z-index:501;display:flex;position:sticky;top:0;align-items:center;flex-direction:row;padding-top:0;padding-bottom:0;}/*!sc*/
.jVRJRQ svg{flex-shrink:0;margin:0.25rem 0.5rem 0 0;width:1.25rem;height:1.25rem;}/*!sc*/
.jVRJRQ svg :active{transform:scale(0.975);}/*!sc*/
@media (max-width: 1440px){.jVRJRQ svg{margin:0;}}/*!sc*/
data-styled.g13[id="sc-dpBQxM"]{content:"jVRJRQ,"}/*!sc*/
.iZQwIz{margin:0;text-shadow:1px 3px 5px rgba(0, 0, 0, 0.25);}/*!sc*/
@media (max-width: 1440px){.iZQwIz{display:none;}}/*!sc*/
data-styled.g14[id="sc-jwIPbr"]{content:"iZQwIz,"}/*!sc*/
.cYFEXI{text-shadow:1px 3px 5px rgba(0, 0, 0, 0.25);}/*!sc*/
.cYFEXI a{display:block;word-break:break-word;white-space:normal;line-height:1.4;text-decoration:none;}/*!sc*/
.cYFEXI a:hover{font-weight:bolder;}/*!sc*/
@media (max-width: 1440px){.cYFEXI{display:none;}}/*!sc*/
data-styled.g15[id="sc-cHqXqK"]{content:"cYFEXI,"}/*!sc*/
.kzaBcT{display:flex;flex-direction:row;}/*!sc*/
data-styled.g16[id="sc-jtQUzJ"]{content:"kzaBcT,"}/*!sc*/
.bilEAw{display:flex;flex-direction:column;padding-top:30px;width:768px;}/*!sc*/
@media (max-width: 1279px){.bilEAw{width:66vw;}}/*!sc*/
@media (max-width: 768px){.bilEAw{width:75vw;}}/*!sc*/
data-styled.g17[id="sc-cEzcPc"]{content:"bilEAw,"}/*!sc*/
.hqzkph{margin:5px 0 15px 0;width:100%;height:1px;}/*!sc*/
data-styled.g18[id="sc-ovuCP"]{content:"hqzkph,"}/*!sc*/
.cXfMYE{margin:2rem 0;}/*!sc*/
.cXfMYE img{border:1px solid;border-radius:0.3rem;}/*!sc*/
data-styled.g19[id="sc-eOzmre"]{content:"cXfMYE,"}/*!sc*/
</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><title data-gatsby-head="true">Gatsby로 개인 기술 블로그 개발하기</title><link rel="canonical" href="https://lsj1206.github.io/post/01" data-gatsby-head="true"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><article class="sc-jtQUzJ kzaBcT"><div class="sc-cEzcPc bilEAw"><div class="sc-blHHSb hzDDWL"><h2 class="sc-egkSDF cqDrwc">Gatsby로 개인 기술 블로그 개발하기</h2><div class="sc-gtLWhw jywoSR"></div><div class="sc-fAUdSK gLPrto"><p class="sc-dntaoT sc-ivxoEo TOLTN kkQDYw"><svg viewBox="0 0 576 512"><path d="M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"></path></svg>React</p><p class="sc-dntaoT TOLTN"><svg viewBox="0 0 448 512"><path d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L64 64C28.7 64 0 92.7 0 128l0 16 0 48L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-256 0-48 0-16c0-35.3-28.7-64-64-64l-40 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L152 64l0-40zM48 192l352 0 0 256c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256z"></path></svg>2025-04-11</p><p class="sc-dntaoT TOLTN"><svg viewBox="0 0 448 512"><path d="M128 0c13.3 0 24 10.7 24 24l0 40 144 0 0-40c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 40 0c35.3 0 64 28.7 64 64l0 16 0 48 0 256c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192l0-48 0-16C0 92.7 28.7 64 64 64l40 0 0-40c0-13.3 10.7-24 24-24zM400 192L48 192l0 256c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-256zM329 297L217 409c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"></path></svg>2025-04-11</p></div><div class="sc-ghWlax eIdYjn"><svg viewBox="0 0 512 512"><path d="M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5L0 80C0 53.5 21.5 32 48 32l149.5 0c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"></path></svg><p class="sc-kLhKbu eNmjUM">React</p><p class="sc-kLhKbu eNmjUM">Gatsby</p><p class="sc-kLhKbu eNmjUM">styled-components</p><p class="sc-kLhKbu eNmjUM">Markdown</p></div><div class="sc-ixGGxD ePnSXa"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained sc-khLCKb iFBhps"><div style="max-width:1920px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;1080&#x27;%20width=&#x27;1920&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHXS2Ckh//EABkQAAEFAAAAAAAAAAAAAAAAABECAxITIP/aAAgBAQABBQJ6YVacf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAEDBQAAAAAAAAAAAAAAABEAAQISEyAhMf/aAAgBAQAGPwJrYJUaR3eP/8QAGxAAAQQDAAAAAAAAAAAAAAAAAAEQEVFBgaH/2gAIAQEAAT8h28zRSHEixcMp/9oADAMBAAIAAwAAABBQz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAAEEAQUAAAAAAAAAAAAAABEAATFBECFRYXGR/9oACAEBAAE/EAh6AQq5BtNG3M488og1lLtiS//Z" alt=""/><picture><source type="image/webp" data-srcset="/static/2e42bd0f777fb6ac53eb01a7178877f4/3a3a2/blog_homepage.webp 480w,/static/2e42bd0f777fb6ac53eb01a7178877f4/bde8a/blog_homepage.webp 960w,/static/2e42bd0f777fb6ac53eb01a7178877f4/c512e/blog_homepage.webp 1920w" sizes="(min-width: 1920px) 1920px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1920px) 1920px, 100vw" decoding="async" loading="lazy" data-src="/static/2e42bd0f777fb6ac53eb01a7178877f4/a764f/blog_homepage.jpg" data-srcset="/static/2e42bd0f777fb6ac53eb01a7178877f4/fb67e/blog_homepage.jpg 480w,/static/2e42bd0f777fb6ac53eb01a7178877f4/3059d/blog_homepage.jpg 960w,/static/2e42bd0f777fb6ac53eb01a7178877f4/a764f/blog_homepage.jpg 1920w" alt="_coverImage"/></picture><noscript><picture><source type="image/webp" srcSet="/static/2e42bd0f777fb6ac53eb01a7178877f4/3a3a2/blog_homepage.webp 480w,/static/2e42bd0f777fb6ac53eb01a7178877f4/bde8a/blog_homepage.webp 960w,/static/2e42bd0f777fb6ac53eb01a7178877f4/c512e/blog_homepage.webp 1920w" sizes="(min-width: 1920px) 1920px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1920px) 1920px, 100vw" decoding="async" loading="lazy" src="/static/2e42bd0f777fb6ac53eb01a7178877f4/a764f/blog_homepage.jpg" srcSet="/static/2e42bd0f777fb6ac53eb01a7178877f4/fb67e/blog_homepage.jpg 480w,/static/2e42bd0f777fb6ac53eb01a7178877f4/3059d/blog_homepage.jpg 960w,/static/2e42bd0f777fb6ac53eb01a7178877f4/a764f/blog_homepage.jpg 1920w" alt="_coverImage"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></div><div class="sc-eOzmre cXfMYE"><h1 id="개요" style="position:relative;"><a href="#%EA%B0%9C%EC%9A%94" aria-label="개요 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>개요</h1>
<ul>
<li>프로젝트 이름
<ul>
<li><strong>TECH.log</strong></li>
</ul>
</li>
<li>기술 구성
<ul>
<li><strong>프론트엔드</strong>
<ul>
<li><code class="language-text">Gatsby v5.14</code> : React 기반의 정적 사이트 생성 프레임워크</li>
<li><code class="language-text">styled-components v6.1</code> : CSS-in-JS 라이브러리</li>
<li><code class="language-text">Font Awesome</code> : 아이콘 제공 라이브러리</li>
</ul>
</li>
<li><strong>데이터</strong>
<ul>
<li><code class="language-text">Markdown (GFM)</code> : 블로그 콘텐츠 관리</li>
<li><code class="language-text">GraphQL</code> : 데이터 쿼리 및 처리</li>
</ul>
</li>
<li><strong>빌드 및 배포</strong>
<ul>
<li><code class="language-text">Node.js v22.11</code> : 개발 서버 실행 및 정적 파일 빌드</li>
<li><code class="language-text">GitHub Pages</code> : 정적 사이트 배포</li>
</ul>
</li>
<li><strong>확장 기능</strong>
<ul>
<li><code class="language-text">Giscus</code> : GitHub Discussions 기반의 댓글 시스템</li>
</ul>
</li>
</ul>
</li>
<li>개발 환경
<ul>
<li>OS : Windows 11</li>
<li>Editor : Visual Studio Code</li>
</ul>
</li>
<li>개발 기간
<ul>
<li>개발 기간 : 2024-11-25 ~ 2024-12-17</li>
<li>최초 배포 : 2024-12-26</li>
</ul>
</li>
</ul>
<hr>
<p>개인 학습 내용과 프로젝트 경험을 기록하기 위한 기술 블로그가 필요하다고 느꼈고, 공부도 할 겸 직접 마음에 드는 스타일로 개발해 보자는 생각이 들어서 프로젝트를 진행하게 됐습니다.</p>
<h1 id="gatsby를-선택한-이유" style="position:relative;"><a href="#gatsby%EB%A5%BC-%EC%84%A0%ED%83%9D%ED%95%9C-%EC%9D%B4%EC%9C%A0" aria-label="gatsby를 선택한 이유 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gatsby를 선택한 이유</h1>
<p>개인 기술 블로그를 개발할 때 가장 중요하게 고려한 부분은 <strong>유지보수와 게시글 작성의 편의성</strong>입니다.</p>
<p>개인 블로그는 대규모 사용자 트래픽이나 복잡한 동작이 필요하지 않으므로, 서버나 DB가 없는 구조를 사용하면 간단하게 유지보수할 수 있다고 생각했습니다.
이러한 요구사항을 충족하는 개발 방식을 찾던 중에 <code class="language-text">Gatsby</code>를 선택했습니다.</p>
<h2 id="gatsby" style="position:relative;"><a href="#gatsby" aria-label="gatsby permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gatsby</h2>
<p><code class="language-text">Gatsby</code>는 React 기반의 오픈소스 프레임워크로, <code class="language-text">React</code>와 <code class="language-text">GraphQL</code>을 기반으로 동작하며, <strong>정적 사이트 생성기(Static Site Generator, SSG)</strong> 역할을 합니다.</p>
<blockquote>
<p><strong><em>Gatsby vs Jekyll</em></strong> <br> Jekyll 같은 경우, GitHub Pages와 친화적이라는 장점이 있지만 Ruby 기반이라는 부분과 웹페이지의 디자인을 직접 구현할 예정이라 익숙한 React + styled-components를 사용하기 위해 Gatsby를 선택했습니다.</p>
</blockquote>
<blockquote>
<p><strong><em>Gatsby vs Next.js</em></strong> <br> 정적 구조의 개인 기술 블로그이기 때문에 동적 콘텐츠 처리에 장점을 가지는 Next.js는 프로젝트의 요구사항에는 과하다고 생각해서 Gatsby를 선택하였습니다.</p>
</blockquote>
<h2 id="정적-사이트" style="position:relative;"><a href="#%EC%A0%95%EC%A0%81-%EC%82%AC%EC%9D%B4%ED%8A%B8" aria-label="정적 사이트 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>정적 사이트</h2>
<p><strong>정적 사이트</strong>는 미리 만들어진 HTML, CSS, JavaScript 파일로 구성된 웹사이트로, 사용자가 요청할 때 서버가 이 파일들을 그대로 전송합니다.</p>
<p>이는 서버가 실시간으로 콘텐츠를 생성하거나 변경하지 않는 구조를 말합니다.</p>
<p>정적 파일만 제공하기 때문에 서버 부하가 적고, 페이지 로딩이 짧아 빠른 속도를 가지며, DB나 서버 로직을 처리하지 않기 때문에 낮은 유지비용과 간편한 유지보수라는 장점이 있어 Gatsby를 사용하여 정적 웹사이트 구조의 블로그를 개발하는 것이 적절하다고 생각했습니다.</p>
<p>결론적으로 Gatsby를 사용해 정적 웹사이트를 구축하고, GitHub Pages로 호스팅하며 GitHub Discussions 기반의 댓글 시스템인 Giscus를 활용하여 서버나 DB 없이도 기능적으로 완성된 블로그를 구현할 수 있었습니다.</p>
<hr>
<h1 id="프로젝트-구조-설정" style="position:relative;"><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0-%EC%84%A4%EC%A0%95" aria-label="프로젝트 구조 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>프로젝트 구조 설정</h1>
<h2 id="gatsby-설치-및-프로젝트-생성" style="position:relative;"><a href="#gatsby-%EC%84%A4%EC%B9%98-%EB%B0%8F-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1" aria-label="gatsby 설치 및 프로젝트 생성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gatsby 설치 및 프로젝트 생성</h2>
<p>Gatsby CLI를 전역(global)으로 설치</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> gatsby-cli</code></pre></div>
<p>Gatsby 프로젝트 생성</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">gatsby new tech.log</code></pre></div>
<h2 id="styled-components-설정" style="position:relative;"><a href="#styled-components-%EC%84%A4%EC%A0%95" aria-label="styled components 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>styled-components 설정</h2>
<p>styled-components 설치</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> styled-components gatsby-plugin-styled-components</code></pre></div>
<p>Font Awesome 아이콘을 원활하게 사용하기 위해 SVG 파일을 React 컴포넌트로 사용할 수 있게 해주는 플러그인 설치</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> gatsby-plugin-react-svg</code></pre></div>
<h2 id="gatsby-configjs-파일-수정" style="position:relative;"><a href="#gatsby-configjs-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95" aria-label="gatsby configjs 파일 수정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gatsby-config.js 파일 수정</h2>
<p>gatsby-config.js에 설치한 플러그인을 사용가능하게 추가</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">siteMetadata</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"TECH.log"</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-plugin-styled-components</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-plugin-react-svg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rule</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">icons</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">gatsby-config.js</code> 파일은 <code class="language-text">Gatsby</code> 프로젝트가 시작할 때 가장 먼저 실행되면서 사이트 메타데이터 및 플러그인 설정을 정의하는 역할을 합니다.</p>
<h2 id="gatsby-source-filesystem-설정" style="position:relative;"><a href="#gatsby-source-filesystem-%EC%84%A4%EC%A0%95" aria-label="gatsby source filesystem 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gatsby-source-filesystem 설정</h2>
<p>Gatsby가 로컬 파일 시스템에서 데이터를 가져오려면 <code class="language-text">gatsby-source-filesystem</code>플러그인을 사용해야 합니다.</p>
<p>저는 src내부에 포스트 컨텐츠가 들어가는것보다 src폴더와 따로 존재하는것이 좀 더 유지보수가 용이하다고 생각해서 _posts라는 폴더를 프로젝트의 최상위 디렉토리에 두고 src 폴더는 웹사이트를 구성하는 파일들을 관리하고, _posts 폴더에서 포스트 콘텐츠를 관리하는 구조로 만들고 싶었습니다.</p>
<p><code class="language-text">gatsby-config.js</code> 파일에서 <code class="language-text">gatsby-source-filesystem</code> 수정</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-source-filesystem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./src/pages/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">__key</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-source-filesystem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">posts</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/_posts/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></div>
<p>해당 설정을 통해 _posts 폴더 내부에 Markdown 파일을 GraphQL 쿼리를 통해 조회할 수 있게 되고, 이를 기반으로 개별 블로그 포스트 페이지를 자동으로 생성할 수 있게 됩니다.</p>
<blockquote>
<p><strong><code class="language-text">${__dirname}</code></strong> <br> Node.js의 전역 변수로, 현재 실행 중인 JavaScript 파일이 위치한 디렉토리의 절대 경로(absolute path)를 의미함 <br> *스크립트 실행 위치가 아닌 파일 위치를 기준으로 경로를 반환</p>
</blockquote>
<p><a href="https://www.gatsbyjs.com/plugins/gatsby-source-filesystem" target="_blank" rel="nofollow noopener noreferrer">Gatsby 공식 사이트</a>에 플러그인들에 대한 설명이 적혀있어 사용방식이나 옵션 설정 등을 참고했습니다.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 45.39877300613497%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHdmthhQ//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAIDAQAAAAAAAAAAAAAAAAARARBRcf/aAAgBAQABPyHhDEbf/9oADAMBAAIAAwAAABDTD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQADAQEAAAAAAAAAAAAAAAEAESEQMf/aAAgBAQABPxBXcDKTaZQvPdY8M//Z'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/6c9b835d598b1324b00afde99f7f62c4/94563/gatsby_official_filesystem.webp 163w,
/static/6c9b835d598b1324b00afde99f7f62c4/647a8/gatsby_official_filesystem.webp 325w,
/static/6c9b835d598b1324b00afde99f7f62c4/c1dc5/gatsby_official_filesystem.webp 650w,
/static/6c9b835d598b1324b00afde99f7f62c4/1e975/gatsby_official_filesystem.webp 975w,
/static/6c9b835d598b1324b00afde99f7f62c4/063bf/gatsby_official_filesystem.webp 1300w,
/static/6c9b835d598b1324b00afde99f7f62c4/882b9/gatsby_official_filesystem.webp 1920w"
              sizes="(max-width: 650px) 100vw, 650px"
              type="image/webp"
            />
          <source
            srcset="/static/6c9b835d598b1324b00afde99f7f62c4/d2f63/gatsby_official_filesystem.jpg 163w,
/static/6c9b835d598b1324b00afde99f7f62c4/c989d/gatsby_official_filesystem.jpg 325w,
/static/6c9b835d598b1324b00afde99f7f62c4/6aca1/gatsby_official_filesystem.jpg 650w,
/static/6c9b835d598b1324b00afde99f7f62c4/7c09c/gatsby_official_filesystem.jpg 975w,
/static/6c9b835d598b1324b00afde99f7f62c4/01ab0/gatsby_official_filesystem.jpg 1300w,
/static/6c9b835d598b1324b00afde99f7f62c4/0f98f/gatsby_official_filesystem.jpg 1920w"
            sizes="(max-width: 650px) 100vw, 650px"
            type="image/jpeg"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/6c9b835d598b1324b00afde99f7f62c4/6aca1/gatsby_official_filesystem.jpg"
            alt="gatsby_officialpage"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
    </span></p>
<h2 id="동적-페이지-생성-설정하기" style="position:relative;"><a href="#%EB%8F%99%EC%A0%81-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%83%9D%EC%84%B1-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0" aria-label="동적 페이지 생성 설정하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>동적 페이지 생성 설정하기</h2>
<p>Gatsby는 GraphQL을 통해 수집된 데이터를 바탕으로 <code class="language-text">gatsby-node.js</code> 파일 내의 <code class="language-text">createPages API</code>를 사용하여 페이지를 동적으로 생성할 수 있습니다.</p>
<p>이 기능으로 _posts 폴더 내부의 .md파일을 html구조의 페이지로 생성할 수 있습니다.</p>
<p>GraphQL 쿼리로 _posts 내부의 모든 마크다운 데이터 가져오는 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">createPages</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> actions<span class="token punctuation">,</span> graphql <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> createPage <span class="token punctuation">}</span> <span class="token operator">=</span> actions<span class="token punctuation">;</span>

  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">graphql</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    query {
      allMarkdownRemark {
        edges {
          node {
            frontmatter {
              title
              coverImage {
                childImageSharp {
                  gatsbyImageData(placeholder: BLURRED, formats: [AUTO, WEBP])
                }
              }
              category
              tag
              createDate
              lastDate
            }
            html
            fields {
              slug
            }
          }
        }
      }
    }
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 데이터가 없으면 오류 처리</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>errors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Failed to fetch markdown data"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> posts <span class="token operator">=</span> result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>allMarkdownRemark<span class="token punctuation">.</span>edges<span class="token punctuation">;</span>

  <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>_posts 폴더에서 가져오는 데이터는 <strong>frontmatter</strong>, <strong>html</strong>, <strong>slug</strong> 가 있습니다.</p>
<p><code class="language-text">gatsby-node.js</code> 파일은 Gatsby의 GraphQL 데이터 처리를 관리하고, 동적 페이지를 생성할 때 사용됩니다.</p>
<p>Node.js 환경에서 실행되므로 브라우저 API는 사용할 수 없습니다.</p>
<h3 id="frontmatter" style="position:relative;"><a href="#frontmatter" aria-label="frontmatter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Frontmatter</h3>
<p>마크다운 파일에서 문서 상단에 위치한 메타데이터 블록으로, 주로 YAML 형식으로 작성합니다.</p>
<p>저는 아래와 같은 형식을 사용했습니다.</p>
<p>제목, 커버이미지, 카테고리, 태그, 최초 작성일과 마지막 수정일을 사용하고
주로 요약 설명(description)을 많이 사용하지만, 저는 태그를 사용할 예정이고 태그와 설명이 어느정도 겹치는 부분이 있고, 카테고리+태그로 요약 설명을 대체할 수 있다고 생각해서 제외했습니다.</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"제목"</span>
<span class="token key atrule">coverImage</span><span class="token punctuation">:</span> <span class="token string">"./_assets/temp.jpg"</span>
<span class="token key atrule">category</span><span class="token punctuation">:</span> <span class="token string">"분류"</span>
<span class="token key atrule">tag</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"태그1"</span><span class="token punctuation">,</span> <span class="token string">"태그2"</span><span class="token punctuation">,</span> <span class="token string">"태그3"</span><span class="token punctuation">]</span>
<span class="token key atrule">createDate</span><span class="token punctuation">:</span> <span class="token string">"2024-11-25"</span>
<span class="token key atrule">lastDate</span><span class="token punctuation">:</span> <span class="token string">"2024-12-06"</span>
<span class="token punctuation">---</span></code></pre></div>
<p>html은 markdown 파일에서 frontmatter를 제외한 나머지 컨텐츠를 html로 변환시킨 것이고, <code class="language-text">slug</code>는 웹사이트 내에서 각 페이지나 포스트를 고유하게 식별하는 URL의 경로 부분을 의미합니다.</p>
<p>Gatsby에서는 <code class="language-text">gatsby-node.js</code> 파일 내의 <code class="language-text">onCreateNode API</code>를 사용하여 자동으로 슬러그를 생성하고, 보통 Markdown 파일의 경로나 제목 등을 슬러그로 사용하는데 저는 _post 폴더 내부에 각 포스트 별로 폴더를 두고 각 폴더 별로 .md 파일과 _assets 폴더를 두는 방식으로 구성할 할 생각이기 때문에 .md 파일명을 slug로 사용하게된다면 중복을 방지하기 어렵기 때문에 각 폴더명을 slug로 사용했습니다.</p>
<p><code class="language-text">onCreateNode API</code>를 사용하여 각 마크다운 파일에 slug를 추가해주는 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">onCreateNode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node<span class="token punctuation">,</span> actions<span class="token punctuation">,</span> getNode <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> createNodeField <span class="token punctuation">}</span> <span class="token operator">=</span> actions<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"MarkdownRemark"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> parent <span class="token operator">=</span> <span class="token function">getNode</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 폴더 이름 가져오기</span>
    <span class="token keyword">const</span> slug <span class="token operator">=</span> parent<span class="token punctuation">.</span>relativeDirectory<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>sep<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 폴더 이름을 slug로 사용</span>
    <span class="token function">createNodeField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      node<span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"slug"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> slug<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>노드를 기반으로 <code class="language-text">createPage API</code>를 호출하여 앞서 생성한 URL 경로(slug)와 <code class="language-text">post-template.js</code>를 기반으로 포스트 페이지를 생성하는 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
posts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">createPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/post/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>node<span class="token punctuation">.</span>fields<span class="token punctuation">.</span>slug<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// URL</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"./src/templates/post-template.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">slug</span><span class="token operator">:</span> node<span class="token punctuation">.</span>fields<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">gatsby-node.js</code>에서 GraphQL 쿼리로 Markdown 데이터를 수집하고, <code class="language-text">onCreateNode</code> API로 각 Markdown 노드에 slug 필드를 추가한 뒤, <code class="language-text">createPage</code> API를 사용해 게시글 페이지들을 동적으로 생성합니다.</p>
<h2 id="markdown-파일을-html로-변환하는-설정하기" style="position:relative;"><a href="#markdown-%ED%8C%8C%EC%9D%BC%EC%9D%84-html%EB%A1%9C-%EB%B3%80%ED%99%98%ED%95%98%EB%8A%94-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0" aria-label="markdown 파일을 html로 변환하는 설정하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Markdown 파일을 HTML로 변환하는 설정하기</h2>
<p>웹 브라우저가 Markdown을 직접 렌더링할 수 없으므로, <strong>HTML 변환 과정</strong>이 필요합니다.</p>
<p>Gatsby에서는 <code class="language-text">gatsby-transformer-remark</code> 플러그인을 사용해 Markdown을 HTML로 변환할 수 있습니다.</p>
<p><code class="language-text">gatsby-transformer-remark</code> 플러그인과 추가 플러그인 설치</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> gatsby-transformer-remark gatsby-remark-copy-linked-files gatsby-remark-autolink-headers gatsby-remark-responsive-iframe gatsby-remark-external-links gatsby-remark-images gatsby-remark-prismjs</code></pre></div>
<ul>
<li><code class="language-text">gatsby-transformer-remark</code> : Markdown 파일을 변환하여 GraphQL로 쿼리할 수 있도록 해주는 플러그인</li>
<li><code class="language-text">gatsby-remark-copy-linked-files</code> : 참조하는 파일을 자동으로 복사하고 링크를 변환해주는 플러그인</li>
<li><code class="language-text">gatsby-remark-autolink-headers</code> : 헤더에 자동으로 앵커(링크)를 추가하는 플러그인</li>
<li><code class="language-text">gatsby-remark-responsive-iframe</code> : <code class="language-text">&lt;iframe></code> 태그를 반응형으로 변환하는 플러그인</li>
<li><code class="language-text">gatsby-remark-external-links</code> : 외부 링크 속성을 자동 추가하는 플러그인</li>
<li><code class="language-text">gatsby-remark-images</code> : 이미지를 최적화하고, Gatsby 이미지 처리를 적용하는 플러그인</li>
<li><code class="language-text">gatsby-remark-prismjs</code> : 코드 블록을 하이라이팅해주는 플러그인</li>
</ul>
<p>설치한 플러그인들을 gatsby-config.js에 적용하는 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-transformer-remark</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">gfm</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// GitHub Flavored Markdown(GFM) 활성화</span>
        <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-copy-linked-files</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-autolink-headers</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-responsive-iframe</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-external-links</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-images</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">maxWidth</span><span class="token operator">:</span> <span class="token number">650</span><span class="token punctuation">,</span>  <span class="token comment">// 이미지 최대 너비 (px)</span>
              <span class="token literal-property property">withWebp</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// WebP 형식 이미지 생성</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-prismjs</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">aliases</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token string">"javascript"</span><span class="token punctuation">,</span> <span class="token literal-property property">sh</span><span class="token operator">:</span> <span class="token string">"bash"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 코드 블록 언어 별칭 설정</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></div>
<blockquote>
<p><strong>GitHub Flavored Markdown(GFM)</strong> <br> GitHub에서 개발한 Markdown의 확장 버전으로, 기본 Markdown보다 더 많은 기능을 제공하며, 특히 GitHub에서의 협업을 위해 최적화되어 있습니다.</p>
</blockquote>
<p>위의 플러그인 설정과 <a href="#%EB%8F%99%EC%A0%81-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%83%9D%EC%84%B1-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0">동적 페이지 생성 설정</a>에서 작성했던 GraphQL 쿼리의 html 필드가 바로 Markdown을 HTML로 변환한 결과로, 이를 템플릿에서 렌더링하면 Markdown 본문이 브라우저에서 완전한 HTML 구조로 표시됩니다.</p>
<p><code class="language-text">post-template.js</code>파일에서 변환된 html 필드를 렌더링하는 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>PostContainer<span class="token operator">></span>
    <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>Content dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">__html</span><span class="token operator">:</span> post<span class="token punctuation">.</span>html <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>PostContainer<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> query <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  query ($slug: String!) {
    markdownRemark(fields: { slug: { eq: $slug } }) {
      #...
      html
      tableOfContents(maxDepth: 3)
    }
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token comment">//...</span></code></pre></div>
<blockquote>
<p><strong>dangerouslySetInnerHTML</strong> <br> React에서 HTML을 직접 렌더링할 때 사용하는 속성으로, <strong>raw HTML</strong>을 직접 삽입할 수 있습니다.<br> 보안상 위험이 있어 이름에 "dangerously"가 들어가 있지만, Markdown 문법이 기본적으로 제한적이여서 Markdown 문법을 HTML로 변환하여 사용할때는 보안 위험이 낮고 변환과정이 없어 간편해서 사용</p>
</blockquote>
<blockquote>
<p><strong>raw HTML</strong> <br> JSX나 React의 변환 없이, 브라우저에서 직접 해석되는 HTML 코드로, 보통 JSX에서는 HTML을 자동으로 이스케이프(escape)하여 HTML 태그가 실행되지 않지만, raw HTML은 브라우저가 그대로 해석하고 렌더링</p>
</blockquote>
<p>지금까지의 설정으로 <code class="language-text">_posts</code> 폴더 내부의 Markdown 콘텐츠가 <code class="language-text">post-template.js</code> 템플릿 구조에 맞춰 자동으로 페이지가 생성됩니다.</p>
<h2 id="카테고리별-게시글-목록을-출력하는-동적-페이지-만들기" style="position:relative;"><a href="#%EC%B9%B4%ED%85%8C%EA%B3%A0%EB%A6%AC%EB%B3%84-%EA%B2%8C%EC%8B%9C%EA%B8%80-%EB%AA%A9%EB%A1%9D%EC%9D%84-%EC%B6%9C%EB%A0%A5%ED%95%98%EB%8A%94-%EB%8F%99%EC%A0%81-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-label="카테고리별 게시글 목록을 출력하는 동적 페이지 만들기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>카테고리별 게시글 목록을 출력하는 동적 페이지 만들기</h2>
<p>Frontmatter에 <code class="language-text">category</code> 필드를 추가했다면, 이를 기반으로 카테고리별 게시글 목록 페이지를 동적으로 생성할 수 있습니다.</p>
<p><code class="language-text">gatsby-node.js</code>파일에서 Frontmatter에서 category를 추출하고 동적 페이지를 생성하는 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// 카테고리 추출</span>
<span class="token keyword">const</span> categoryList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
posts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>category<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    categoryList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>category<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 카테고리를 기반으로 동적 페이지 생성</span>
categoryList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">category</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">createPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/category/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>category<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// URL</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"./src/templates/category-template.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      category<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">category-template.js</code>에 작성된 카테고리별로 데이터를 조회하는 GraphQL 쿼리</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> query <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  query ($category: String!) {
    allMarkdownRemark(filter: { frontmatter: { category: { eq: $category } } }) {
      edges {
        node {
          frontmatter {
            title
            coverImage {
              childImageSharp {
                gatsbyImageData(placeholder: BLURRED, formats: [AUTO, WEBP])
              }
            }
            tag
            category
            createDate
          }
          fields {
            slug
          }
        }
      }
    }
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">query ($category: String!)</code>를 통해, 빌드 시점에 <code class="language-text">context.category</code>변수를 받아서 해당 카테고리에 속한 Markdown 파일만 필터링합니다.</p>
<p><code class="language-text">allMarkdownRemark(filter: { frontmatter: { category: { eq: $category } } })</code> 구문에서 카테고리 값이 일치하는 게시글만 가져옵니다.</p>
<hr>
<h1 id="다크-모드dark-theme-설정하기" style="position:relative;"><a href="#%EB%8B%A4%ED%81%AC-%EB%AA%A8%EB%93%9Cdark-theme-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0" aria-label="다크 모드dark theme 설정하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>다크 모드(Dark Theme) 설정하기</h1>
<p>저는 평소에 다크모드를 주로 사용하는 편이고, 콘텐츠를 읽는게 중요한 비중을 차지하는 블로그에서는 반드시 필요한 기능이라고 생각해 가장 먼저 구현하는걸 목표로 두었습니다.</p>
<p>여기서는 <code class="language-text">styled-components</code>와 <code class="language-text">React Context API</code>를 활용하여 다크 모드를 구현했습니다.</p>
<h2 id="테마-상태와-themeprovider" style="position:relative;"><a href="#%ED%85%8C%EB%A7%88-%EC%83%81%ED%83%9C%EC%99%80-themeprovider" aria-label="테마 상태와 themeprovider permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>테마 상태와 ThemeProvider</h2>
<p><code class="language-text">useTheme.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
<span class="token keyword">const</span> <span class="token function-variable function">useTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// localStorage에서 저장된 테마 확인 후, 없으면 OS 설정 감지</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> savedTheme <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"theme"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>savedTheme<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> savedTheme<span class="token punctuation">;</span> <span class="token comment">// 저장된 테마 적용</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> window<span class="token punctuation">.</span>matchMedia <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">"(prefers-color-scheme: dark)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>matches <span class="token operator">?</span> <span class="token string">"dark"</span> <span class="token operator">:</span> <span class="token string">"light"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 테마 변경 함수 (onChangeTheme)</span>
  <span class="token keyword">const</span> onChangeTheme <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> updatedTheme <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">"light"</span> <span class="token operator">?</span> <span class="token string">"dark"</span> <span class="token operator">:</span> <span class="token string">"light"</span><span class="token punctuation">;</span> <span class="token comment">// light ↔ dark 변경</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span>updatedTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"theme"</span><span class="token punctuation">,</span> updatedTheme<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localStorage에 저장하여 유지</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>theme<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 페이지 로딩 시 저장된 테마 값 적용</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> savedTheme <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"theme"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>savedTheme<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span>savedTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    theme<span class="token punctuation">,</span>
    onChangeTheme<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">localStorage</code>에서 테마를 가져오고, 없다면 <code class="language-text">window.matchMedia()</code>를 사용하여 사용자 브라우저의 미디어 쿼리(<code class="language-text">prefers-color-scheme</code>)를 반환합니다.</p>
<blockquote>
<p><strong>localStorage</strong> <br> 도메인 단위로 브라우저에 데이터를 저장하는 기능으로, 브라우저를 닫아도 데이터가 유지됩니다.</p>
</blockquote>
<p><code class="language-text">onChangeTheme</code> 함수를 통해 테마를 토글하여 모드(<code class="language-text">light</code> ↔ <code class="language-text">dark</code>)를 변경하고, <code class="language-text">localStorage</code>에 저장하여 페이지 새로고침 후에도 유지되도록 해줍니다.</p>
<p><code class="language-text">useTheme</code> 훅을 통해 전역에서 테마를 제어할 수 있게 했습니다.</p>
<p><code class="language-text">ThemeProvider.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token keyword">as</span> StyledThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"styled-components"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> light<span class="token punctuation">,</span> dark <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../styles/Theme"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useTheme <span class="token keyword">from</span> <span class="token string">"../hooks/useTheme"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> defaultValue <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">"light"</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onChangeTheme</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">ThemeProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> themeProps <span class="token operator">=</span> <span class="token function">useTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// useTheme 훅 사용</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>themeProps<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>StyledThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>themeProps<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">"light"</span> <span class="token operator">?</span> light <span class="token operator">:</span> dark<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>StyledThemeProvider<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>Provider<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
s<span class="token punctuation">;</span></code></pre></div>
<blockquote>
<p><strong>ThemeProvider</strong> <br> React에서 전역적으로 테마를 관리하는 컨텍스트(Context) 역할을 하는 컴포넌트</p>
</blockquote>
<p><code class="language-text">theme</code>와 <code class="language-text">onChangeTheme</code>를 전역적으로 관리할 ThemeContext를 생성합니다.</p>
<p><code class="language-text">useTheme</code> 훅을 사용하여 현재 테마를 가져오고, <code class="language-text">StyledThemeProvider</code>로 감싸 <code class="language-text">styled-components</code>에서 라이트·다크 테마를 구분해 적용합니다.</p>
<p>children 내부에 있는 모든 컴포넌트는 <code class="language-text">ThemeContext</code>와 <code class="language-text">styled-components</code> 테마 값에 접근할 수 있게 됩니다.</p>
<blockquote>
<p><strong>StyledThemeProvider</strong> <br> styled-components 라이브러리에서 제공하는 ThemeProvider로, styled-components 내부에서 theme 속성을 통해 스타일을 변경할 수 있습니다.</p>
</blockquote>
<h2 id="스타일-및-전역-설정" style="position:relative;"><a href="#%EC%8A%A4%ED%83%80%EC%9D%BC-%EB%B0%8F-%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95" aria-label="스타일 및 전역 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>스타일 및 전역 설정</h2>
<p><code class="language-text">Theme.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> styledComponents <span class="token keyword">from</span> <span class="token string">"styled-components"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> md <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">blockquote</span><span class="token operator">:</span> <span class="token string">"#707070"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tableBr</span><span class="token operator">:</span> <span class="token string">"#C0C0C0"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> light <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">brLine</span><span class="token operator">:</span> <span class="token string">"#585858"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgMain</span><span class="token operator">:</span> <span class="token string">"#FFFFFF"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgMainSub</span><span class="token operator">:</span> <span class="token string">"#FCFCFC"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgLayout</span><span class="token operator">:</span> <span class="token string">"#E8E8E8"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgSub</span><span class="token operator">:</span> <span class="token string">"#C3C3C3"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btn</span><span class="token operator">:</span> <span class="token string">"#A9A9A9"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btnActive</span><span class="token operator">:</span> <span class="token string">"#585858"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"black"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgText</span><span class="token operator">:</span> <span class="token string">"#999999"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btnText</span><span class="token operator">:</span> <span class="token string">"#696969"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btnActiveText</span><span class="token operator">:</span> <span class="token string">"#C0C0C0"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">highlightText</span><span class="token operator">:</span> <span class="token string">"#4682B4"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">warningText</span><span class="token operator">:</span> <span class="token string">"#8B0000"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">md</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>md <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> dark <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">brLine</span><span class="token operator">:</span> <span class="token string">"#585858"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgMain</span><span class="token operator">:</span> <span class="token string">"#282828"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgMainSub</span><span class="token operator">:</span> <span class="token string">"#252525"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgLayout</span><span class="token operator">:</span> <span class="token string">"#383838"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgSub</span><span class="token operator">:</span> <span class="token string">"#606060"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btn</span><span class="token operator">:</span> <span class="token string">"#505050"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btnActive</span><span class="token operator">:</span> <span class="token string">"#909090"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"white"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bgText</span><span class="token operator">:</span> <span class="token string">"#808080"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btnText</span><span class="token operator">:</span> <span class="token string">"#808080"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">btnActiveText</span><span class="token operator">:</span> <span class="token string">"#505050"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">highlightText</span><span class="token operator">:</span> <span class="token string">"#87CEEB"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">warningText</span><span class="token operator">:</span> <span class="token string">"#F08080"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">md</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>md <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// styled-components에서 사용</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> styled<span class="token punctuation">,</span> createGlobalStyle <span class="token punctuation">}</span> <span class="token operator">=</span> styledComponents<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> styled<span class="token punctuation">,</span> createGlobalStyle <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">GlobalStyle.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createGlobalStyle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./Theme"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> GlobalStyle <span class="token operator">=</span> createGlobalStyle<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  @font-face {
    font-family: 'D2Coding';
    src: url('/fonts/D2Coding-Ver1.3.2.ttf') format('truetype');
  }

  html, body {
    color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> theme<span class="token punctuation">.</span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
    background: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> theme<span class="token punctuation">.</span>bgMain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
    font-family: 'D2Coding', sans-serif;
    line-height: 1.5;
  }

  // ...
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> GlobalStyle<span class="token punctuation">;</span></code></pre></div>
<blockquote>
<p><code class="language-text">GlobalStyle</code> <br> React 프로젝트에서 전역 스타일을 설정하는 역할을 하는 스타일 컴포넌트</p>
</blockquote>
<blockquote>
<p><code class="language-text">createGlobalStyle</code> <br> styled-components에서 GlobalStyle을 적용하는 방법</p>
</blockquote>
<p>웹 브라우저마다 기본적으로 HTML요소에 CSS 스타일이 적용되어 있습니다.</p>
<p>그래서 브라우저에 영향받지 않고 공통된 UI/UX를 제공하기 위해서는 CSS 리셋(Reset)을 통해 기본 스타일을 제공하고 프로젝트에 공통된 스타일을 적용하기 위해서 <code class="language-text">React</code>에서는 <code class="language-text">GlobalStyle</code>을 사용합니다.</p>
<h2 id="gatsby-설정" style="position:relative;"><a href="#gatsby-%EC%84%A4%EC%A0%95" aria-label="gatsby 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gatsby 설정</h2>
<p><code class="language-text">gatsby-browser.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./src/context/ThemeProvider"</span><span class="token punctuation">;</span>
<span class="token comment">// Assets</span>
<span class="token keyword">import</span> <span class="token string">"./src/styles/prism-nord.css"</span><span class="token punctuation">;</span>
<span class="token comment">// Component</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">"./src/components/layouts/Layout"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">wrapRootElement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> element <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ThemeProvider<span class="token operator">></span><span class="token punctuation">{</span>element<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">wrapPageElement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> element<span class="token punctuation">,</span> props <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>Layout <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>element<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Layout<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Gatsby의 루트(Root) 요소를 감싸는 함수인 <code class="language-text">wrapRootElement</code>으로 <code class="language-text">ThemeProvider</code>로 감싸, 전역적으로 테마를 적용할 수 있게 합니다.</p>
<p>페이지별 요소를 감싸는 함수인 <code class="language-text">wrapPageElement</code>으로 <code class="language-text">Layout</code>을 감싸 모든 페이지에 공통 레이아웃을 적용합니다.</p>
<p><code class="language-text">gatsby-browser.js</code> 파일은 Gatsby가 브라우저에서 실행될 때 적용되는 설정 파일입니다.
주로 전역 스타일을 정의하거나, 페이지 전환 효과 등을 추가하는 데 사용됩니다.</p>
<h2 id="테마-적용-및-다크-모드-전환-버튼-추가하기" style="position:relative;"><a href="#%ED%85%8C%EB%A7%88-%EC%A0%81%EC%9A%A9-%EB%B0%8F-%EB%8B%A4%ED%81%AC-%EB%AA%A8%EB%93%9C-%EC%A0%84%ED%99%98-%EB%B2%84%ED%8A%BC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0" aria-label="테마 적용 및 다크 모드 전환 버튼 추가하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>테마 적용 및 다크 모드 전환 버튼 추가하기</h2>
<p><code class="language-text">Layout.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> styled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../styles/Theme"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GlobalStyle <span class="token keyword">from</span> <span class="token string">"../../styles/GlobalStyle"</span><span class="token punctuation">;</span>

<span class="token comment">//...</span>
<span class="token keyword">const</span> <span class="token function-variable function">Layout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>sideOpen<span class="token punctuation">,</span> setSideOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">toggleSideOpen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setSideOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span>prev<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>GlobalStyle <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Background<span class="token operator">></span>
        <span class="token operator">&lt;</span>Header <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Sidebar open<span class="token operator">=</span><span class="token punctuation">{</span>sideOpen<span class="token punctuation">}</span> setOpen<span class="token operator">=</span><span class="token punctuation">{</span>setSideOpen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FloatingBox toggleSideOpen<span class="token operator">=</span><span class="token punctuation">{</span>toggleSideOpen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Content<span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Content<span class="token operator">></span>
        <span class="token operator">&lt;</span>Footer <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Background<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Background <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  //...
  background-color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> theme<span class="token punctuation">.</span>bgMain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  //...
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span></code></pre></div>
<p>JSX에서는 반드시 하나의 부모요소로 감싸야합니다.</p>
<p>하지만 <code class="language-text">&lt;GlobalStyle /> </code>에서 CSS 리셋을 담당하고있는데 해당 요소를 <code class="language-text">&lt;div></code> 로 감싸게 된다면 브라우저의 CSS 설정을 따르는 div가 불필요하게 생성되기 때문에 <code class="language-text">프래그먼트</code>를 사용했습니다.</p>
<blockquote>
<p><strong>Fragment</strong> <br> React JSX에서는 컴포넌트가 하나의 부모 요소를 반환해야합니다. (두 개의 요소를 반환하면 <em>"Adjacent JSX elements must be wrapped in an enclosing tag"</em> 에러가 발생합니다.) 그래서 반드시 <code class="language-text">&lt;div></code> 같은 요소로 감싸주어야 하는데 <code class="language-text">&lt;div></code>요소로 감싸주면 불필요한 요소가 생성됩니다 그래서 <code class="language-text">&lt;></code>...<code class="language-text">&lt;/></code> 혹은 <code class="language-text">&lt;React.Fragment></code>...<code class="language-text">&lt;/React.Fragment></code>로 감싸주면 불필요한 DOM 요소를 생성하지 않고 여러 개의 요소를 그룹화 할 수 있습니다.</p>
</blockquote>
<p><code class="language-text">Header.js</code>에 다크 모드 토글 버튼 추가</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../context/ThemeProvider"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> styled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../styles/Theme"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> userData <span class="token keyword">from</span> <span class="token string">"../../../user-data"</span><span class="token punctuation">;</span>
<span class="token comment">// Assets</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LightIcon<span class="token punctuation">,</span> DarkIcon<span class="token punctuation">,</span> SearchIcon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../assets/assets"</span><span class="token punctuation">;</span>
<span class="token comment">// Components</span>
<span class="token keyword">import</span> IconButton <span class="token keyword">from</span> <span class="token string">"../buttons/IconButton"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Header</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> className <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> theme<span class="token punctuation">,</span> onChangeTheme <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ThemeContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>HeaderContainer className<span class="token operator">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>TitleContainer<span class="token operator">></span>
        <span class="token operator">&lt;</span>HeaderTitle onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>userData<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>HeaderTitle<span class="token operator">></span>
        <span class="token operator">&lt;</span>NameText onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/about</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userData<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>NameText<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>TitleContainer<span class="token operator">></span>
      <span class="token operator">&lt;</span>ButtonContainer<span class="token operator">></span>
        <span class="token operator">&lt;</span>IconButton size<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">}</span> icon<span class="token operator">=</span><span class="token punctuation">{</span>SearchIcon<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/search</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>IconButton size<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">]</span><span class="token punctuation">}</span> icon<span class="token operator">=</span><span class="token punctuation">{</span>theme <span class="token operator">===</span> <span class="token string">"light"</span> <span class="token operator">?</span> DarkIcon <span class="token operator">:</span> LightIcon<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>onChangeTheme<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token comment">/* 다크 모드 토글 버튼 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ButtonContainer<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>HeaderContainer<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//...</span></code></pre></div>
<p><code class="language-text">ThemeContext</code>에서 <code class="language-text">theme</code>와 <code class="language-text">onChangeTheme</code>을 가져와 버튼 클릭 시 테마를 변경합니다.</p>
<p>테마에 따라 아이콘을 변경하여 토글 버튼을 시각적으로 구분해줍니다.</p>
<h3 id="globalstyle이-gatsby-browser가-아니라-layout에-위치한-이유" style="position:relative;"><a href="#globalstyle%EC%9D%B4-gatsby-browser%EA%B0%80-%EC%95%84%EB%8B%88%EB%9D%BC-layout%EC%97%90-%EC%9C%84%EC%B9%98%ED%95%9C-%EC%9D%B4%EC%9C%A0" aria-label="globalstyle이 gatsby browser가 아니라 layout에 위치한 이유 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GlobalStyle이 gatsby-browser가 아니라 Layout에 위치한 이유</h3>
<p>보통 전역 스타일(GlobalStyle)은 애플리케이션의 최상위 컴포넌트에서 적용하는 것이 보편적입니다.</p>
<p>Gatsby 프로젝트에서는 보통 <code class="language-text">gatsby-browser</code>에서 전역 스타일을 설정하지만, 저는 <code class="language-text">Layout</code> 컴포넌트에서 <code class="language-text">GlobalStyle</code>을 적용했습니다.</p>
<p>저는 <code class="language-text">GlobalStyle</code>을 다크 모드와 연동하여 폰트 색상이나 스크롤바 색상 등이 테마에 따라 동적으로 변경되도록 설정을 했었는데 <code class="language-text">gatsby-browser</code>에서 <code class="language-text">GlobalStyle</code>을 적용했을때 테마를 변경해도 색상 값이 갱신되지 않는 문제가 발생했습니다.</p>
<p>해당 문제가 발생했던 이유는 <code class="language-text">gatsby-browser</code>가 실행되는 시점이 페이지가 처음 렌더링될 때이며, 그 시점의 테마에 맞춰 전역 스타일이 설정되기 때문입니다.</p>
<p>만약 이 방식으로 전역 스타일을 적용한다면, 테마 값에 따라 변동되는 모든 요소를 각 페이지나 컴포넌트별로 별도로 설정해야 했습니다.</p>
<p>제가 이 문제를 인지한 시점에는 이미 대부분의 페이지와 컴포넌트가 개발 완료된 상태였기 때문에, 보다 간편하게 문제를 해결하기 위해 <code class="language-text">GlobalStyle</code>의 적용 시점을 한 단계 미루고, <code class="language-text">Layout</code>과 <code class="language-text">gatsby-browser</code> 사이에 <em>Fragment</em>를 사용하여 GlobalStyle을 위치시키는 방식으로 해결하였습니다.</p>
<hr>
<h1 id="검색-구현하기" style="position:relative;"><a href="#%EA%B2%80%EC%83%89-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0" aria-label="검색 구현하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>검색 구현하기</h1>
<p>블로그는 사용자가 원하는 게시글을 찾을 수 있게 <strong>검색 기능</strong>을 제공하는것이 중요한 부분이라고 생각합니다.</p>
<p>해당 프로젝트에서 검색 기능은 <code class="language-text">search.js</code> 페이지에서 GraphQL <code class="language-text">pageQuery</code>를 통해 빌드 타임에 가져온 마크다운 파일의 메타데이터(<em>Frontmatter</em>)를 <code class="language-text">usePostList</code>라는 커스텀 훅에서 객체 배열로 변환해주고, 해당 객체를 바탕으로 사용자가 입력한 검색어와 <strong>제목</strong>, <strong>카테고리</strong>, <strong>태그</strong>에서 일치하는 문자열을 가지는 게시글을 <strong>실시간</strong>으로 추출하는 구조입니다.</p>
<h2 id="graphql을-통한-데이터-패칭" style="position:relative;"><a href="#graphql%EC%9D%84-%ED%86%B5%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%B9%AD" aria-label="graphql을 통한 데이터 패칭 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GraphQL을 통한 데이터 패칭</h2>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
<span class="token keyword">import</span> usePostList <span class="token keyword">from</span> <span class="token string">"../hooks/usePostList"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">SearchingPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token function">usePostList</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> query <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  query SearchPageQuery {
    allMarkdownRemark {
      ...
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span></code></pre></div>
<p>빌드 시에 <code class="language-text">allMarkdownRemark</code>를 통해 마크다운 파일의 메타데이터(<em>Frontmatter</em>)를 <code class="language-text">props.data</code>의 형태로 가져옵니다.</p>
<p><code class="language-text">usePostList</code> 커스텀 훅에서 <code class="language-text">props.data</code>를 가공하여, 검색에 사용될 게시글 배열(posts)을 만듭니다.</p>
<p><code class="language-text">usePostList.js</code> 커스텀 훅</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">usePostList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">useMemo</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      data<span class="token operator">?.</span>allMarkdownRemark<span class="token operator">?.</span>edges<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token literal-property property">coverImage</span><span class="token operator">:</span> node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>coverImage<span class="token operator">?.</span>childImageSharp<span class="token operator">?.</span>gatsbyImageData<span class="token punctuation">,</span>
        <span class="token literal-property property">tag</span><span class="token operator">:</span> node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>tag<span class="token punctuation">,</span>
        <span class="token literal-property property">category</span><span class="token operator">:</span> node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>category<span class="token punctuation">,</span>
        <span class="token literal-property property">createDate</span><span class="token operator">:</span> node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>createDate<span class="token punctuation">,</span>
        <span class="token literal-property property">slug</span><span class="token operator">:</span> node<span class="token punctuation">.</span>fields<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>data<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="검색어-상태-관리-및-url-동기화" style="position:relative;"><a href="#%EA%B2%80%EC%83%89%EC%96%B4-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC-%EB%B0%8F-url-%EB%8F%99%EA%B8%B0%ED%99%94" aria-label="검색어 상태 관리 및 url 동기화 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>검색어 상태 관리 및 URL 동기화</h2>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@reach/router"</span><span class="token punctuation">;</span> <span class="token comment">// 쿼리스트링 읽기 위해 추가</span>
<span class="token keyword">import</span> queryString <span class="token keyword">from</span> <span class="token string">"query-string"</span><span class="token punctuation">;</span> <span class="token comment">// 쿼리스트링 파싱을 위해 추가 설치</span>

<span class="token keyword">const</span> <span class="token function-variable function">SearchingPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>query<span class="token punctuation">,</span> setQuery<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//...</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> params <span class="token operator">=</span> queryString<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setQuery</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>location<span class="token punctuation">.</span>search<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>React의 상태 관리 훅인 <code class="language-text">useState</code>를 이용하여 사용자가 입력한 검색어를 <code class="language-text">query</code> 변수에 저장합니다.
초기값은 **빈 문자열("")**로 설정되어 있으며, 사용자가 입력할 때마다 업데이트됩니다.</p>
<p><code class="language-text">useLocation</code> 훅은 현재 브라우저의 URL정보를 제공하며, 특히 쿼리 스트링을 읽어오는 데 유용합니다.</p>
<p><code class="language-text">queryString.parse(location.search)</code>를 사용하여 URL에 포함된 쿼리 파라미터(<code class="language-text">?tag=...</code>)를 객체 형태로 변환합니다.</p>
<p>만약 <code class="language-text">tag</code>가 존재하면 그 값으로 <code class="language-text">query</code>의 상태를 업데이트하여 <code class="language-text">query</code>와 URL을 동기화 합니다.</p>
<blockquote>
<p><strong>쿼리 스트링(Query String)</strong> <br> URL에서 물음표(?) 뒤에 오는 부분으로 추가 정보를 전달하기 위해 사용되어, 여러 개의 키-값 형태로 데이터를 포함할 수 있습니다.</p>
</blockquote>
<blockquote>
<p><strong>useLocation 훅</strong> <br> react-router-dom 라이브러리에서 제공하는 훅으로, 현재 URL(경로, 쿼리스트링 등) 정보를 가져올 수 있습니다.</p>
</blockquote>
<h2 id="실시간-필터링-로직" style="position:relative;"><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%ED%95%84%ED%84%B0%EB%A7%81-%EB%A1%9C%EC%A7%81" aria-label="실시간 필터링 로직 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>실시간 필터링 로직</h2>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> searchPosts <span class="token operator">=</span> posts<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> searchText <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    post<span class="token punctuation">.</span>title<span class="token operator">?.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>searchText<span class="token punctuation">)</span> <span class="token operator">||</span>
    post<span class="token punctuation">.</span>category<span class="token operator">?.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>searchText<span class="token punctuation">)</span> <span class="token operator">||</span>
    post<span class="token punctuation">.</span>tag<span class="token operator">?.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=></span> t<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>searchText<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">query.toLowerCase()</code>를 사용해 검색어 소문자 변환을 통해 대소문자 입력과 무관하게 검색이 가능하도록 구현했습니다.</p>
<p><code class="language-text">query</code>의 상태가 변경될 때마다 <code class="language-text">searchPosts</code> 배열이 재평가되어, 결과를 실시간으로 업데이트합니다.</p>
<p>해당 방식으로 별도의 서버 호출 없이 <strong>클라이언트 사이드 필터링</strong>을 구현하여 빠르게 검색 결과를 보여줄 수 있습니다.</p>
<h2 id="태그-목록-출력" style="position:relative;"><a href="#%ED%83%9C%EA%B7%B8-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5" aria-label="태그 목록 출력 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>태그 목록 출력</h2>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> tagCounts <span class="token operator">=</span> posts<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> post</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  post<span class="token punctuation">.</span>tag<span class="token operator">?.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    acc<span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>acc<span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> sortedTags <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>tagCounts<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span><span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> b<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">onTag</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">setQuery</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/search?tag=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">reduce</code> 함수로 전체 배열 순회하여 각 포스트의 태그 개수를 <code class="language-text">tagCounts</code>에 저장하고, <code class="language-text">Object.entries(tagCounts)</code>를 통해 등장 횟수가 높은 순서대로 태그를 정렬하여 출력합니다.</p>
<p>사용자가 태그를 클릭하면 <code class="language-text">onTag</code> 함수가 실행되면서, <code class="language-text">setQuery(tag)</code>로 <code class="language-text">query</code> 검색어 상태를 갱신합니다.
동시에 <code class="language-text">navigate</code> 함수를 사용하여 URL을 <code class="language-text">/search?tag=&lt;tag></code>으로 변경합니다.</p>
<p>해당 URL 변경사항은 브라우저 내비게이션에 반영되어 브라우저 히스토리 및 북마크 기능을 사용 가능하게 만들어주고, 페이지를 새로고침해도 검색 결과를 유지합니다.</p>
<p>주로 사용되는 순서대로 태그 목록을 제공함으로써 해당 블로그에서 주로 어떤 유형의 글이 쓰이는지 대략적으로 알수있고, 키보드 입력없이도 게시글에 간편하게 접근할 수 있다는 부분이 좋은 사용자 경험을 제공한다고 생각합니다.</p>
<hr>
<h1 id="giscus-적용하기" style="position:relative;"><a href="#giscus-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="giscus 적용하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>giscus 적용하기</h1>
<h2 id="giscus란" style="position:relative;"><a href="#giscus%EB%9E%80" aria-label="giscus란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>giscus란?</h2>
<p><a href="https://giscus.app/ko" target="_blank" rel="nofollow noopener noreferrer">giscus</a>는 Github Discussions를 기반으로 한 댓글 시스템으로, 별도의 서버나 데이터베이스 없이도 댓글 기능을 제공할 수 있다는 장점이 있습니다.</p>
<p>Github Pages를 사용하고 서버나 DB가 없는 정적 사이트로 개발하는 프로젝트와 잘 맞는다고 생각해서 사용하게 되었습니다.</p>
<blockquote>
<p><strong><em>giscus vs utterances</em></strong> <br> 비슷한 시스템인 utterances와 비교했을 때, GitHub Issues를 사용하는것보다 Github Discussions을 사용하는게 더 유지보수 측면에서 유용하다고 판단해서 giscus를 선택했습니다.</p>
</blockquote>
<h2 id="repository-연결하기" style="position:relative;"><a href="#repository-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0" aria-label="repository 연결하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Repository 연결하기</h2>
<ul>
<li>giscus를 사용하기 위해서는 먼저 자신의 GitHub <strong>공개</strong> 저장소와 연동하고, Discussions 탭을 활성화해야 합니다.
<ul>
<li>Repository Setting -> General Tab -> Features Section -> Discussions 옵션을 체크해 활성화.</li>
</ul>
</li>
<li><a href="https://github.com/apps/giscus" target="_blank" rel="nofollow noopener noreferrer">giscus app</a>을 설치합니다.</li>
<li><a href="https://giscus.app/ko" target="_blank" rel="nofollow noopener noreferrer">giscus</a> 공식 사이트에 접속합니다.</li>
<li>giscus 공식 사이트의 설정 섹션에서 설정을 완료하고 스크립트를 복사합니다.
<ul>
<li>저는 프로젝트의 최상단에 user-data.js 라는 파일을 생성하여 giscus 스크립트 설정값을 저장하였습니다.</li>
<li>페이지 ↔ Discussions 연결 : <strong>Discussion 제목이 페이지 경로를 포함</strong></li>
<li>Discussions 카테고리 : <strong>Q&#x26;A</strong></li>
<li>기능 : <strong>메인 포스트에 반응 남기기</strong> | <strong>Discussion 메타데이터 보내기</strong></li>
</ul>
</li>
</ul>
<p><code class="language-text">user-data.js</code> 에 작성된 giscus 스크립트</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> giscusData <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">repo</span><span class="token operator">:</span> <span class="token string">"[ENTER REPO HERE]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">repo_id</span><span class="token operator">:</span> <span class="token string">"[ENTER REPO ID HERE]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">"Q&amp;A"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">category_id</span><span class="token operator">:</span> <span class="token string">"[ENTER CATEGORY ID HERE]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mapping</span><span class="token operator">:</span> <span class="token string">"pathname"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">reactions_enabled</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">emit_metadata</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">input_position</span><span class="token operator">:</span> <span class="token string">"bottom"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">"ko"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="댓글-적용하기" style="position:relative;"><a href="#%EB%8C%93%EA%B8%80-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="댓글 적용하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>댓글 적용하기</h2>
<p>giscus 공식 페이지에서 제공하는 스크립트를 JSX에서 사용하기 위해서는 @giscus/react 패키지를 설치해야 합니다.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> @giscus/react</code></pre></div>
<p><code class="language-text">post-template.js</code> 파일에 <em>giscus</em>를 적용하는 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
<span class="token keyword">import</span> Giscus <span class="token keyword">from</span> <span class="token string">"@giscus/react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../context/ThemeProvider"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> styled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../styles/Theme"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> giscusData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../user-data"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">PostTemplate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>

  <span class="token comment">// Giscus 테마를 동적으로 설정</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> theme <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ThemeContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> giscusTheme <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">"light"</span> <span class="token operator">?</span> <span class="token string">"noborder_light"</span> <span class="token operator">:</span> <span class="token string">"noborder_gray"</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>PageWrapper<span class="token operator">></span>
      <span class="token operator">&lt;</span>PostContainer<span class="token operator">></span>
        <span class="token operator">&lt;</span>PostHeader postData<span class="token operator">=</span><span class="token punctuation">{</span>postData<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Content dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">__html</span><span class="token operator">:</span> post<span class="token punctuation">.</span>html <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>BorderLine <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Comment className<span class="token operator">=</span><span class="token string">"giscus"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Giscus
            id<span class="token operator">=</span><span class="token string">"comments"</span>
            repo<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>repo<span class="token punctuation">}</span>
            repoId<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>repo_id<span class="token punctuation">}</span>
            category<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>category<span class="token punctuation">}</span>
            categoryId<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>category_id<span class="token punctuation">}</span>
            mapping<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>mapping<span class="token punctuation">}</span>
            reactionsEnabled<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>reactions_enabled<span class="token punctuation">}</span>
            emitMetadata<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>emit_metadata<span class="token punctuation">}</span>
            inputPosition<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>input_position<span class="token punctuation">}</span>
            lang<span class="token operator">=</span><span class="token punctuation">{</span>giscusData<span class="token punctuation">.</span>lang<span class="token punctuation">}</span>
            theme<span class="token operator">=</span><span class="token punctuation">{</span>giscusTheme<span class="token punctuation">}</span>
            loading<span class="token operator">=</span><span class="token string">"lazy"</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Comment<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>PostContainer<span class="token operator">></span>
      <span class="token operator">&lt;</span>TableOfContents toc<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>tableOfContents<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>PageWrapper<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//...</span></code></pre></div>
<p>@giscus/react에서 Giscus 컴포넌트를 가져와서 <code class="language-text">&lt;Comment></code> 내부에 <code class="language-text">&lt;Giscus></code>를 삽입하고</p>
<p>user-data.js에 저장한 giscus 스크립트 설정값을 적용시킵니다.</p>
<p>다크 모드와의 연동을 위해서 theme 값을 동적으로 변경할 수 있도록 설정합니다.
<code class="language-text">"noborder_light"</code>와<code class="language-text">"noborder_gray"</code>는 giscus에서 제공되는 theme입니다.</p>
<p>이제 블로그 포스트 페이지마다 게시물 하단에 giscus 댓글 창이 표시됩니다.</p>
<hr>
<h1 id="toctable-of-contents-개발하기" style="position:relative;"><a href="#toctable-of-contents-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0" aria-label="toctable of contents 개발하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ToC(Table of Contents) 개발하기</h1>
<p><strong>ToC</strong>는 문서나 웹페이지의 목차로, 긴 글을 읽을 때 빠르게 원하는 섹션으로 이동할 수 있도록 하는 역할을 합니다.</p>
<p>Gatsby에서는 <code class="language-text">gatsby-transformer-remark</code> 플러그인을 사용하면 GraphQL 쿼리에 <code class="language-text">tableOfContents</code> 필드를 생성해서 ToC(Table of Contents)를 간편하게 구현할 수 있습니다.</p>
<p><code class="language-text">post-template.js</code>에 <code class="language-text">tableOfContents</code> 필드가 추가된 코드</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> query <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  query ($slug: String!) {
    markdownRemark(fields: { slug: { eq: $slug } }) {
      #...
      tableOfContents(maxDepth: 3)
    }
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<blockquote>
<p>maxDepth 는 목차에 포함할 <code class="language-text">&lt;h1></code>~<code class="language-text">&lt;h6></code> 중 몇 번째까지 포함시킬지 정하는 옵션입니다.</p>
</blockquote>
<p>GraphQL 쿼리에서 <code class="language-text">tableOfContents</code> 필드를 요청하면, 제목 태그를 기반으로 HTML 목차를 자동 생성합니다.</p>
<h2 id="floating-toc-구현하기" style="position:relative;"><a href="#floating-toc-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0" aria-label="floating toc 구현하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Floating ToC 구현하기</h2>
<p>블로그에서 ToC는 글의 내용이 길어졌을때 사용하는게 주 목적이기 때문에 Floating구조로 구현을 하는것이 가장 적합하다고 생각했습니다.</p>
<p>Floating 구조로 구현을 했을때의 장점은 언제든 즉시 원하는 목차로 바로 이동이 가능하여 빠른 탐색을 할 수 있다는 것이고, 단점으로 항상 화면에 노출되어있기 때문에 화면의 크기가 작아진다면 거슬릴 수 있지만, 반응형 디자인으로 토글 구조로 변경되도록 구현해 단점을 보완하였습니다.</p>
<p>Floating 구조를 가지며 반응형 디자인으로 화면크기에 따라 토글 기능이 ON/OFF되는 <code class="language-text">TableofContents.js</code> 컴포넌트</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//...</span>
<span class="token keyword">const</span> <span class="token function-variable function">TableOfContents</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> className<span class="token punctuation">,</span> toc <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>open<span class="token punctuation">,</span> setOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">toggleOpen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span>prev<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>TocWrapper className<span class="token operator">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span> $open<span class="token operator">=</span><span class="token punctuation">{</span>open<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Header<span class="token operator">></span>
        <span class="token operator">&lt;</span>IconButton size<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">}</span> icon<span class="token operator">=</span><span class="token punctuation">{</span>TableIcon<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleOpen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Title $open<span class="token operator">=</span><span class="token punctuation">{</span>open<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token string">"목차"</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Title<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Header<span class="token operator">></span>
      <span class="token operator">&lt;</span>TocContainer dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">__html</span><span class="token operator">:</span> toc <span class="token punctuation">}</span><span class="token punctuation">}</span> $open<span class="token operator">=</span><span class="token punctuation">{</span>open<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>TocWrapper<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//...</span></code></pre></div>
<p><code class="language-text">post-template.js</code>에 <code class="language-text">TableofContents.js</code> 컴포넌트를 삽입</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">PostTemplate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>PageWrapper<span class="token operator">></span>
      <span class="token operator">&lt;</span>PostContainer<span class="token operator">></span><span class="token punctuation">{</span><span class="token comment">/*..*/</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>PostContainer<span class="token operator">></span>
      <span class="token operator">&lt;</span>TableOfContents toc<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>tableOfContents<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>PageWrapper<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><em>반응형 디자인이 적용된 Floating ToC 컴포넌트</em>
<img src="/09de9e90aa966c6cc222cfe7adcffdee/toc.webp" alt="tableOfContents">
기본 Floating Toc ↔ 토글 기능이 포함된 Floating Toc</p>
<hr>
<h1 id="프로젝트-확장-및-기능-개선-계획" style="position:relative;"><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%ED%99%95%EC%9E%A5-%EB%B0%8F-%EA%B8%B0%EB%8A%A5-%EA%B0%9C%EC%84%A0-%EA%B3%84%ED%9A%8D" aria-label="프로젝트 확장 및 기능 개선 계획 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>프로젝트 확장 및 기능 개선 계획</h1>
<p>프로젝트를 시작하면서 계획했던 주요 기능들은 구현을 했지만, 개발 후에 이 글을 쓰면서 추가할 만한 기능들을 정리했습니다.</p>
<ul>
<li>공유 버튼 개발하기
<ul>
<li>저는 보통 다른 블로그나 컨텐츠를 볼 때 브라우저 자체 기능을 주로 사용해서 북마크를 사용하거나 URL자체를 복사해서 공유하고 SNS는 사용을 하지 않다보니 까먹고 있던 기능이였는데 있으면 좋은 기능이라고 생각합니다.</li>
</ul>
</li>
<li>마크다운 확장
<ul>
<li>지금은 gfm 기반의 마크다운으로 개발되어있는데, 차트나 그래프 같은 추가적인 확장도 고려중입니다.</li>
</ul>
</li>
<li>연관 게시글 추천 기능
<ul>
<li>게시글과 연관된 카테고리나 태그를 가지고 있는 혹은 이어지는 게시글을 추천해주는 기능이 있다면 사용자 경험에 매우 좋은 영향이 있을거라는 생각을 했지만, 아직은 블로그에 게시글이 적어서 당장 유의미한 기능은 아니기 때문에 블로그에 글이 좀 쌓였을때 개발하면 좋을거 같다고 생각했습니다.</li>
</ul>
</li>
</ul></div><div class="sc-ovuCP hqzkph"></div><div class="sc-eauhAA jYRXnq giscus"></div></div><div class="sc-keTIit grtWFC"><div class="sc-dpBQxM jVRJRQ"><button width="32" height="32" class="sc-dstKZu cVZkwc"><svg viewBox="0 0 512 512"><path d="M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm64 0l0 64 64 0 0-64L64 96zm384 0L192 96l0 64 256 0 0-64zM64 224l0 64 64 0 0-64-64 0zm384 0l-256 0 0 64 256 0 0-64zM64 352l0 64 64 0 0-64-64 0zm384 0l-256 0 0 64 256 0 0-64z"></path></svg></button><h3 class="sc-jwIPbr iZQwIz">목차</h3></div><div class="sc-cHqXqK cYFEXI"><ul>
<li>
<p><a href="#%EA%B0%9C%EC%9A%94">개요</a></p>
</li>
<li>
<p><a href="#gatsby%EB%A5%BC-%EC%84%A0%ED%83%9D%ED%95%9C-%EC%9D%B4%EC%9C%A0">Gatsby를 선택한 이유</a></p>
<ul>
<li><a href="#gatsby">Gatsby</a></li>
<li><a href="#%EC%A0%95%EC%A0%81-%EC%82%AC%EC%9D%B4%ED%8A%B8">정적 사이트</a></li>
</ul>
</li>
<li>
<p><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0-%EC%84%A4%EC%A0%95">프로젝트 구조 설정</a></p>
<ul>
<li>
<p><a href="#gatsby-%EC%84%A4%EC%B9%98-%EB%B0%8F-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1">Gatsby 설치 및 프로젝트 생성</a></p>
</li>
<li>
<p><a href="#styled-components-%EC%84%A4%EC%A0%95">styled-components 설정</a></p>
</li>
<li>
<p><a href="#gatsby-configjs-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95">gatsby-config.js 파일 수정</a></p>
</li>
<li>
<p><a href="#gatsby-source-filesystem-%EC%84%A4%EC%A0%95">gatsby-source-filesystem 설정</a></p>
</li>
<li>
<p><a href="#%EB%8F%99%EC%A0%81-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%83%9D%EC%84%B1-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0">동적 페이지 생성 설정하기</a></p>
<ul>
<li><a href="#frontmatter">Frontmatter</a></li>
</ul>
</li>
<li>
<p><a href="#markdown-%ED%8C%8C%EC%9D%BC%EC%9D%84-html%EB%A1%9C-%EB%B3%80%ED%99%98%ED%95%98%EB%8A%94-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0">Markdown 파일을 HTML로 변환하는 설정하기</a></p>
</li>
<li>
<p><a href="#%EC%B9%B4%ED%85%8C%EA%B3%A0%EB%A6%AC%EB%B3%84-%EA%B2%8C%EC%8B%9C%EA%B8%80-%EB%AA%A9%EB%A1%9D%EC%9D%84-%EC%B6%9C%EB%A0%A5%ED%95%98%EB%8A%94-%EB%8F%99%EC%A0%81-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0">카테고리별 게시글 목록을 출력하는 동적 페이지 만들기</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EB%8B%A4%ED%81%AC-%EB%AA%A8%EB%93%9Cdark-theme-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0">다크 모드(Dark Theme) 설정하기</a></p>
<ul>
<li>
<p><a href="#%ED%85%8C%EB%A7%88-%EC%83%81%ED%83%9C%EC%99%80-themeprovider">테마 상태와 ThemeProvider</a></p>
</li>
<li>
<p><a href="#%EC%8A%A4%ED%83%80%EC%9D%BC-%EB%B0%8F-%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95">스타일 및 전역 설정</a></p>
</li>
<li>
<p><a href="#gatsby-%EC%84%A4%EC%A0%95">Gatsby 설정</a></p>
</li>
<li>
<p><a href="#%ED%85%8C%EB%A7%88-%EC%A0%81%EC%9A%A9-%EB%B0%8F-%EB%8B%A4%ED%81%AC-%EB%AA%A8%EB%93%9C-%EC%A0%84%ED%99%98-%EB%B2%84%ED%8A%BC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0">테마 적용 및 다크 모드 전환 버튼 추가하기</a></p>
<ul>
<li><a href="#globalstyle%EC%9D%B4-gatsby-browser%EA%B0%80-%EC%95%84%EB%8B%88%EB%9D%BC-layout%EC%97%90-%EC%9C%84%EC%B9%98%ED%95%9C-%EC%9D%B4%EC%9C%A0">GlobalStyle이 gatsby-browser가 아니라 Layout에 위치한 이유</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%EA%B2%80%EC%83%89-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0">검색 구현하기</a></p>
<ul>
<li><a href="#graphql%EC%9D%84-%ED%86%B5%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%B9%AD">GraphQL을 통한 데이터 패칭</a></li>
<li><a href="#%EA%B2%80%EC%83%89%EC%96%B4-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC-%EB%B0%8F-url-%EB%8F%99%EA%B8%B0%ED%99%94">검색어 상태 관리 및 URL 동기화</a></li>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%ED%95%84%ED%84%B0%EB%A7%81-%EB%A1%9C%EC%A7%81">실시간 필터링 로직</a></li>
<li><a href="#%ED%83%9C%EA%B7%B8-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5">태그 목록 출력</a></li>
</ul>
</li>
<li>
<p><a href="#giscus-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0">giscus 적용하기</a></p>
<ul>
<li><a href="#giscus%EB%9E%80">giscus란?</a></li>
<li><a href="#repository-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0">Repository 연결하기</a></li>
<li><a href="#%EB%8C%93%EA%B8%80-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0">댓글 적용하기</a></li>
</ul>
</li>
<li>
<p><a href="#toctable-of-contents-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0">ToC(Table of Contents) 개발하기</a></p>
<ul>
<li><a href="#floating-toc-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0">Floating ToC 구현하기</a></li>
</ul>
</li>
<li>
<p><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%ED%99%95%EC%9E%A5-%EB%B0%8F-%EA%B8%B0%EB%8A%A5-%EA%B0%9C%EC%84%A0-%EA%B3%84%ED%9A%8D">프로젝트 확장 및 기능 개선 계획</a></p>
</li>
</ul></div></div></article></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/01/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-f733f1798d11323e5f82.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-79e53f6051d389951a8f.js\"],\"component---src-pages-about-js\":[\"/component---src-pages-about-js-2db541a804b8d7836e0e.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-d3dbc3b0aed35be5529e.js\"],\"component---src-pages-search-js\":[\"/component---src-pages-search-js-65ed6ad5adde7da79873.js\"],\"component---src-templates-category-template-js\":[\"/component---src-templates-category-template-js-4b033d4628284d020ce6.js\"],\"component---src-templates-post-template-js\":[\"/component---src-templates-post-template-js-3a46ace087bd8d6a9995.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="0e3df0db296e4e3f8430";</script><script src="/webpack-runtime-71b883db43ae994489ea.js" async></script><script src="/framework-fa9a75ceb59e8cf58443.js" async></script><script src="/app-f733f1798d11323e5f82.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>